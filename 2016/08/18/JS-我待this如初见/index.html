<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Ckryo - 技术栈， 分享各类新奇有趣、科技、技术、开发，各类互联网优质精选文章以及优秀开源项目； -- by Ckryo。">
    <meta name="keywords" content="Ckryo, php, laravel, vue, iview, ios, 全栈工程师, 创业" />
    <meta name="author" content="Ckryo">
    <link rel="icon" href="/favicon.ico">
    <!-- page title -->
    <title>Ckryo - 技术栈</title>
    <!-- bootstrap css -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="//cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet">
    <!-- css -->
    <link href="/css/style.css" rel="stylesheet">
    <link href="/css/animate.css" rel="stylesheet">
    <link href="/css/magnific-popup.css" rel="stylesheet">
    <!-- fonts -->
    <link href="/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='/fonts/FontAwesome.otf' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/linear-icons.css">
    <link rel="stylesheet" href="/css/share.min.css">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="/https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="/https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
    <!-- javascript -->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/jquery.easing.min.js"></script>
</head>
<body data-spy="scroll" data-target="#post-scroll-spy">
    <!-- preloader -->
    <div id="preloader">
        <div class="spinner spinner-round"></div>
    </div>
    <!-- / preloader -->
    <!-- header -->
    <header>
        <!-- nav -->
        <nav class="navbar navbar-default">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-logo" href="/index.html">
                        Ckryo
                    </a>
                </div>
                <!-- / navbar-header -->
                
                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                    	
                        <li>
	                        <a href="/">
	                        	
	                        		<i class="fa fa-"></i>
	                        	
	                        	<span>首页</span>
	                        </a>
                        </li>
                        
                        <li>
	                        <a href="/project/index.html">
	                        	
	                        		<i class="fa fa-"></i>
	                        	
	                        	<span>项目</span>
	                        </a>
                        </li>
                        
                        <li>
	                        <a href="/post/index.html">
	                        	
	                        		<i class="fa fa-"></i>
	                        	
	                        	<span>文章</span>
	                        </a>
                        </li>
                        
                        <li>
	                        <a href="/about.html">
	                        	
	                        		<i class="fa fa-"></i>
	                        	
	                        	<span>关于我</span>
	                        </a>
                        </li>
                        
                        <li>
	                        <a href="/project/2016/04/28/hexo-minimal.html">
	                        	
	                        		<i class="fa fa-tachometer"></i>
	                        	
	                        	<span>Minimal</span>
	                        </a>
                        </li>
                        
                    </ul>
                </div>
                
                <!--/ nav-collapse -->
            <!-- / container -->
        </nav>
        <!-- / nav -->
        <!-- header-banner -->
        <div id="header-banner" class="demo-1"  style="background-image: url(/images/banner-bg.jpg)" >
    <div class="banner-content text-center">
        <div class="banner-info">
            <h1 id="banner-title">Ckryo - 技术栈</h1>
            <p id="banner-description" style="display: none" data-in-effect="rotateInUpRight">
                优秀技术资源分享
            </p>
        </div>
        <!-- / banner-info -->
    </div>
    <!-- / banner-content -->
</div>
        <!-- / header-banner -->
    </header>
    <!-- / header -->
    <!-- / content -->
    <link rel="stylesheet" href="/css/i_slidebar.css">
<link rel="stylesheet" href="/css/i_post.css">
<div id="page-content" class="container">
    <!-- post content + sidebar -->
    <section id="blog">
        <div class="row">
            <!-- post content area -->
            <div class="col-md-9">
                <div class="blog block post-content-area">
                    <img src="" alt="">
                    <div class="post-info-box">
                        <h1 style="font-size: 48px;">JS-我待this如初见</h1>
                        <p class="post-info" style="margin-bottom: 15px;">
                            发表于:
                            <span style="color: #aaa; margin: 0 15px">
                                2016.08.18
                            </span>
                             | 分类：
                             <a href="#" style="margin: 0 5px">
                                
                                    -
                                
                             </a>
                             
                        </p>
                        <h1 id="何为this？"><a href="#何为this？" class="headerlink" title="何为this？"></a>何为this？</h1><p>this是对象，是在运行时基于<code>函数</code>的<code>执行环境</code>(和对象有关)绑定的，首先，当代码没执行前，或没执行到之前，this 是没有指向的,所以<br>切记：<code>在函数中this到底取何值，是在函数真正被调用执行的时候确定的，函数定义的时候确定不了</code>。因为this的取值是执行上下文环境的一部分，每次调用函数，都会产生一个新的执行上下文环境。<br><code>this只要一出现，一定牵扯到函数和对象</code><br>一般方法：<code>首先分析this所在的函数是被当做哪个对象的方法调用的，则该对象就是this所引用的对象。</code></p>
<p>其实，this的取值，分五种情况。我们来挨个看一下。</p>
<blockquote>
<ul>
<li>全局和调用普通函数</li>
<li>构造函数</li>
<li>函数作为对象的一个属性</li>
<li>函数用call或apply或bind</li>
<li>事件监听函数中的this</li>
</ul>
</blockquote>
<h1 id="情况1：全局-amp-调用普通函数"><a href="#情况1：全局-amp-调用普通函数" class="headerlink" title="情况1：全局 &amp; 调用普通函数"></a>情况1：全局 &amp; 调用普通函数</h1><p>在全局环境下，this永远是window，这个应该没有非议。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">console.log(this==window);//ture</div><div class="line">this.a=20;</div><div class="line">console.log(window.a);</div></pre></td></tr></table></figure></p>
<p>普通函数在调用时，其中的this也都是window。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var home=&quot;中国&quot;;</div><div class="line">var person=function()&#123;</div><div class="line">		var home=&quot;河南&quot;</div><div class="line">		console.log(this);  //window</div><div class="line">		console.log(this.home);  //中国</div><div class="line">  &#125;</div><div class="line">person();</div></pre></td></tr></table></figure>
<p>但是严格模式下 this是undefined(竞然)：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">function person1()&#123;</div><div class="line">	return this;        </div><div class="line">&#125;</div><div class="line">person1()===window;   //true</div><div class="line"></div><div class="line">function person2()&#123;</div><div class="line">	&quot;use strict&quot;  //严格模式</div><div class="line">	return this;</div><div class="line">&#125;</div><div class="line">person2()===undefined;        //true</div></pre></td></tr></table></figure></p>
<h1 id="情况2：构造函数"><a href="#情况2：构造函数" class="headerlink" title="情况2：构造函数"></a>情况2：构造函数</h1><p>所谓构造函数就是用来new对象的函数。其实严格来说，所有的函数都可以new一个对象，但是有些函数的定义是为了new一个对象，而有些函数则不是。另外注意，构造函数的函数名第一个字母大写（规则约定）。例如：Object、Array、Function等。</p>
<p><code>如果函数作为构造函数用，那么其中的this就代表它即将new出来的对象</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">window.home=&quot;中国&quot;;</div><div class="line">window.age=&quot;5000+&quot;;</div><div class="line">function Person()&#123;</div><div class="line">	this.home=&quot;河南&quot;;</div><div class="line">	this.age=20;</div><div class="line"></div><div class="line">	console.log(this);   //Person &#123;home: &quot;河南&quot;, age: 20&#125;</div><div class="line">	console.log(this.home);//  河南</div><div class="line">&#125;</div><div class="line">var chongqing = new Person();</div><div class="line"></div><div class="line">console.log(chongqing.home);  //河南还是中国</div><div class="line">console.log(chongqing.age);  //20还是5000+</div><div class="line">console.log(age);  //5000+还是20</div></pre></td></tr></table></figure>
<p>以上代码中，如果函数作为构造函数用，那么其中的this就代表它即将new出来的对象,即上文中的chongqing。</p>
<p>上个例子中构造函数没有返回值，默认返回this，但是若有返回语句，返回一个对象的话，会将return的对象作为返回值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">function Myclass()&#123;</div><div class="line">	this.a=20;</div><div class="line">&#125;</div><div class="line">var o=new Myclass();</div><div class="line">console.log(o.a);   //20</div><div class="line"></div><div class="line"></div><div class="line">function Person()&#123;</div><div class="line">	this.a=20;</div><div class="line">	return &#123;  a: 21&#125;;</div><div class="line">&#125;</div><div class="line">var o=new Person();</div><div class="line">console.log(o.a);   //21还是20</div></pre></td></tr></table></figure></p>
<p><code>注意，以上仅限new Person()的情况，即Person函数作为构造函数的情况。</code>如果直接调用Person函数，而不是new Person()，情况就大不一样了。相当于普通函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">window.home=&quot;中国&quot;;</div><div class="line">window.age=&quot;5000+&quot;;</div><div class="line">function Person()&#123;</div><div class="line">	this.home=&quot;河南&quot;;</div><div class="line">	this.age=20;</div><div class="line"></div><div class="line">	console.log(this);   //window 还是Person &#123;home: &quot;河南&quot;, age: 20&#125;</div><div class="line">	console.log(this.home);//???河南还是中国</div><div class="line">	console.log(home);//???河南还是中国</div><div class="line">&#125;</div><div class="line">Person();</div></pre></td></tr></table></figure></p>
<p>这种情况下this是window，就是相当于普通函数中的this</p>
<p>构造函数还有一种情况，在构造函数的prototype中，this代表着什么？<br><code>在整个原型链中，this代表的是当前对象的值</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">window.home=&quot;中国&quot;;</div><div class="line">window.age=&quot;5000+&quot;;</div><div class="line">function Person()&#123;</div><div class="line">	this.home=&quot;河南&quot;;</div><div class="line">	this.age=20;</div><div class="line"></div><div class="line">	console.log(this);   //Person &#123;home: &quot;河南&quot;, age: 20&#125;</div><div class="line">&#125;</div><div class="line">Person.prototype.getHome=function()&#123;</div><div class="line">	console.log(this.home);  //河南</div><div class="line">&#125;</div><div class="line"></div><div class="line">var chongqing= new Person();</div><div class="line">chongqing.getHome();//</div></pre></td></tr></table></figure></p>
<p>如上代码，在Person.prototype.getHome函数中，this指向的是chongqing对象。因此可以通过this.name获取chongqing.name的值。</p>
<p>其实，不仅仅是构造函数的prototype，即便是在整个原型链中，this代表的也都是当前对象的值。</p>
<h1 id="情况3：函数作为对象的一个方法"><a href="#情况3：函数作为对象的一个方法" class="headerlink" title="情况3：函数作为对象的一个方法"></a>情况3：函数作为对象的一个方法</h1><p>在这又分两种情况：</p>
<ol>
<li>函数作为对象的方法<code>被调用</code>,此时函数中的<code>this指向该对象</code></li>
<li>函数<code>被赋值</code>到了另一个变量中，<code>this的值是window</code></li>
</ol>
<p>###1. 如果函数作为对象的一个方法时，<code>并且作为对象的一个方法被调用</code>时，函数中的<code>this指向该对象</code>。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">window.home=&quot;中国&quot;;</div><div class="line">window.age=&quot;5000+&quot;;</div><div class="line">var obj=&#123;</div><div class="line">	home:&quot;河南&quot;,</div><div class="line">	person: function()&#123;</div><div class="line">		console.log(this);  //Object &#123;home: &quot;河南&quot;&#125;</div><div class="line">		console.log(this.home);  //河南</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">obj.person();</div></pre></td></tr></table></figure></p>
<p>以上代码中，person不仅作为一个对象的一个方法，<code>而且的确是作为对象的一个方法被调用。结果this就是obj对象</code>。</p>
<p><code>注意</code>，如果<strong><code>person函数不作为obj的一个方法被调用</code></strong>，会是什么结果呢？</p>
<h3 id="2-如果person函数被赋值到了另一个变量中，并没有作为obj的一个方法被调用，那么this的值就是window"><a href="#2-如果person函数被赋值到了另一个变量中，并没有作为obj的一个方法被调用，那么this的值就是window" class="headerlink" title="2. 如果person函数被赋值到了另一个变量中，并没有作为obj的一个方法被调用，那么this的值就是window"></a>2. <code>如果person函数被赋值到了另一个变量中，并没有作为obj的一个方法被调用，那么this的值就是window</code></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">window.home=&quot;中国&quot;;</div><div class="line">window.age=&quot;5000+&quot;;</div><div class="line">var obj=&#123;</div><div class="line">	home:&quot;河南&quot;,</div><div class="line">	person: function()&#123;</div><div class="line">		console.log(this);  //？？window还是object</div><div class="line">		console.log(this.home);  //？？中国还是河南</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">var person1=obj.person;</div><div class="line">person1();</div></pre></td></tr></table></figure>
<p>如上代码，如果person函数被赋值到了另一个变量中，并没有作为obj的一个属性被调用，那么this的值就是window,相当于全局了，this.home的值为中国</p>
<h3 id="3-闭包中使用this对象（对象方法函数中又有一个匿名函数）-this用处（诡异）"><a href="#3-闭包中使用this对象（对象方法函数中又有一个匿名函数）-this用处（诡异）" class="headerlink" title="3.闭包中使用this对象（对象方法函数中又有一个匿名函数）-this用处（诡异）"></a>3.闭包中使用this对象（对象方法函数中又有一个匿名函数）-this用处（诡异）</h3><p> <code>在ES3中，此时使用this比较糟糕，因为this失去了方向，引用的是window对象，而不是定义函数所在的对象,欣慰的是，this在ES5中是固定的，我们应该清楚地了解这种情况</code><br>注意： <code>在ES3中，当函数作为某个对象的方法调用时，this等于那个对象，不过在闭包中，匿名函数的执行环境具有全局性，此时通常this指向window</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var obj=&#123;</div><div class="line">	home:&quot;河南&quot;,</div><div class="line">	person: function()&#123;</div><div class="line">		    function person1()&#123;</div><div class="line">			console.log(this);      //window</div><div class="line">			console.log(this.home);    //undefined</div><div class="line">        &#125;</div><div class="line">        person1();</div><div class="line">&#125;</div><div class="line">&#125;;</div><div class="line">obj.person();</div></pre></td></tr></table></figure></p>
<p>总结<strong>：当this值的宿主环境被封装在另一个函数内部或在另一个函数的上下文被调用时，this将永远是对window对象的引用（再次说明，this在ES5中是固定的）</strong></p>
<p>如何改变上述情况呢？<br><code>可以在父函数中使用作用域链来保留对this的引用，以使this值不丢失</code>。如下代码演示了如何使用that变量及其作用域来有效跟踪函数上下文<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">var obj=&#123;</div><div class="line">	home:&quot;河南&quot;,</div><div class="line">	person: function()&#123;</div><div class="line">	        var that=this;  //person作用域中，保存this引用对象obj（而不是window）</div><div class="line">		    function person1()&#123;</div><div class="line">		      //输出通过作用域得到河南，因为that=this</div><div class="line">			console.log(that);      //Object &#123;home: &quot;河南&quot;&#125;</div><div class="line">			console.log(that.home);    //河南</div><div class="line">        &#125;</div><div class="line">        person1();</div><div class="line">&#125;</div><div class="line">&#125;;</div><div class="line">obj.person();</div></pre></td></tr></table></figure></p>
<h1 id="情况4：函数用call或者apply或bind调用"><a href="#情况4：函数用call或者apply或bind调用" class="headerlink" title="情况4：函数用call或者apply或bind调用"></a>情况4：函数用call或者apply或bind调用</h1><blockquote>
<p>先简单说一下call和apply和bind如何使用</p>
</blockquote>
<h3 id="call-apply"><a href="#call-apply" class="headerlink" title="call(),apply()"></a>call(),apply()</h3><ul>
<li>关于call和apply，首先这两个方法的用途都是在<code>特定的作用域中调用函数</code>，，都有两个参数call/apply(<code>作用域</code>，<code>传递给函数的参数</code>)</li>
<li><p>它的作用是改变函数的调用对象，它的第一个参数就表示改变后的调用这个函数的对象。因此，<code>this指的就是这第一个参数</code>。 </p>
<ul>
<li>apply的用法和call大致相同，只有一点区别，apply只接受两个参数，第一个参数和call相同，第二个参数必须是一个数组，数组中的元素对应的就是函数的形参。<br>注意不同的是接受参数的方式不同，call()传递给函数的参数必须逐个列举出来，而apply()则是参数数组</li>
</ul>
</li>
</ul>
<h3 id="bind"><a href="#bind" class="headerlink" title="bind()"></a>bind()</h3><ul>
<li>bind（）创造一个函数的实例，其this值会被绑定到传给bind（）函数的值。</li>
</ul>
<p>牢记：<strong>当一个函数被call或apply或bind调用时，this的值就取<code>传入的对象的值,即call（）或apply或bind（）括号里的对象</code>。</strong></p>
<p>call实例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">window.home=&quot;中国&quot;;</div><div class="line">window.age=&quot;5000+&quot;;</div><div class="line">var obj=&#123;</div><div class="line">	home:&quot;河南&quot;</div><div class="line">&#125;;</div><div class="line">var person=function()&#123;</div><div class="line">		console.log(this);  //Object &#123;home: &quot;河南&quot;&#125;</div><div class="line">		console.log(this.home);  //河南</div><div class="line">  &#125;</div><div class="line">person.call(obj);</div></pre></td></tr></table></figure></p>
<blockquote>
<p>还要注意：apply()的<code>参数</code>为空时，默认调用全局对象。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">　　var x = 0; </div><div class="line">　　function test()&#123; </div><div class="line">　　　　alert(this.x); </div><div class="line">　　&#125; </div><div class="line">　　var o=&#123;&#125;; </div><div class="line">　　o.x = 1; </div><div class="line">　　o.m = test; </div><div class="line">　　o.m.apply(); //0</div></pre></td></tr></table></figure>
<p>bind()实例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">window.color=&quot;red&quot;;</div><div class="line">var o=&#123;color:&quot;blue&quot;&#125;;</div><div class="line"></div><div class="line">function sayColor()&#123;</div><div class="line">	alert(this.color);</div><div class="line">&#125;</div><div class="line">var objectSayColor=sayColor.bind(o);</div><div class="line">objectSayColor();    //blue还是red</div></pre></td></tr></table></figure></p>
<p>sayColor()调用bind（）并传入对象o。创建了objectSaycolor（）函数，objectSaycolor（）函数中的this的值等于o，因此，即使是在全局作用域中调用这个函数也会看到“blue”。</p>
<h1 id="情况5：事件监听函数中的this-大家应该熟悉"><a href="#情况5：事件监听函数中的this-大家应该熟悉" class="headerlink" title="情况5：事件监听函数中的this(大家应该熟悉)"></a>情况5：事件监听函数中的this(大家应该熟悉)</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var one = document.getElementByIdx( &apos;one&apos; );</div><div class="line"></div><div class="line">one.onclick = function()&#123;</div><div class="line"></div><div class="line">    alert( this.innerHTML );  //this指向的是one元素，</div></pre></td></tr></table></figure>
<p>友情链接：<br>Javascript高级程序设计（第3版）-关于this对象-182页<br>JavaScript启示录-this部分<br><a href="http://www.cnblogs.com/wangfupeng1988/p/3988422.html" target="_blank" rel="external">博客-深入理解Js-this</a><br><a href="http://blog.csdn.net/dfyong/article/details/7313028" target="_blank" rel="external">博客-js中this</a><br><a href="http://www.imooc.com/video/6430" target="_blank" rel="external">慕课网Javascript深入浅出-this部分</a><br><a href="http://www.jb51.net/article/41656.htm" target="_blank" rel="external">博客-this关键字详解</a></p>
<h1 id="Ending（欲知后事如何，且听下回分解）"><a href="#Ending（欲知后事如何，且听下回分解）" class="headerlink" title="Ending（欲知后事如何，且听下回分解）"></a>Ending（欲知后事如何，且听下回分解）</h1>
                    </div>
                    <!-- / post-info-box -->
                </div>
                <!-- / blog-block -->
                
<div id="comment">
    <!--PC和WAP自适应版-->
    <div id="SOHUCS" sid="请将此处替换为配置SourceID的语句"></div>
    <script type="text/javascript">
    (function() {
        var appid = 'cysYE5nWR';
        var conf = 'prod_ea59e8a942c2c4c0e72b24ed00ecddc9';
        var width = window.innerWidth || document.documentElement.clientWidth;
        if (width < 960) {
            window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="http://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>');
        } else {
            var loadJs = function(d, a) {
                var c = document.getElementsByTagName("head")[0] || document.head || document.documentElement;
                var b = document.createElement("script");
                b.setAttribute("type", "text/javascript");
                b.setAttribute("charset", "UTF-8");
                b.setAttribute("src", d);
                if (typeof a === "function") {
                    if (window.attachEvent) {
                        b.onreadystatechange = function() {
                            var e = b.readyState;
                            if (e === "loaded" || e === "complete") {
                                b.onreadystatechange = null;
                                a();
                            }
                        }
                    } else {
                        b.onload = a;
                    }
                }
                c.appendChild(b)
            };
            loadJs("http://changyan.sohu.com/upload/changyan.js", function() {
                window.changyan.api.config({
                    appid: appid,
                    conf: conf
                })
            });
        }
    })();
    </script>
</div>
<!-- / comments -->


            </div>
            <!-- / col-md-9 -->
            <!-- / post content area -->
            <style type="text/css">
.post-tab-header {
    width: 100%;
    padding: 5px 50px;
    height: 40px;
    margin-bottom: 10px;
}

.post-tab-header li {
    width: 50%;
    float: left;
    text-align: center;
    cursor: pointer;
    padding-bottom: 10px;
}

.post-tab-header li.active {
    color: #c39d6d;
    border-bottom: 1px solid #c39d6d;
}

.post-tab-content .post-tab-item {
    display: none;
}

.post-tab-content .post-tab-item.active {
    display: block;
}

@keyframes MinefadeInUp {
    from {
        opacity: 0;
        transform: translateY(45px);
    }
    to {
        opacity: 1;
        transform: none;
    }
}

.MinefadeInUp {
    animation-name: MinefadeInUp;
}

ol,
ul,
li {
    list-style: none;
}

.post-toc {
    font-size: 14px;
    color: #666;
    overflow: auto;
}

.post-toc .nav-link {
    padding: 0px;
}

.post-toc ol {
    margin: 0;
    padding: 5px 0 5px 20px;
    text-align: left;
    list-style: none;
    font-size: 14px;
}

.post-toc ol>ol {
    padding-left: 0;
}

.post-toc ol a {
    transition-duration: 0.2s;
    transition-timing-function: ease-in-out;
    transition-delay: 0s;
    transition-property: all;
    color: #666;
    border-bottom-color: #ccc;
}

.post-toc ol a:hover {
    color: #000;
    border-bottom-color: #000;
}

.post-toc .nav-item {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    line-height: 1.8;
}

.post-toc .nav .nav-child {
    display: none;
}

.post-toc .nav .active>.nav-child {
    display: block;
}

.post-toc .nav .active-current>.nav-child {
    display: block;
}

.post-toc .nav .active-current>.nav-child>.nav-item {
    display: block;
}

.post-toc .nav .active>a {
    color: #c39d6d;
    border-bottom-color: #c39d6d;
}

.post-toc .nav .active-current>a {
    color: #c39d6d;
}

.post-toc .nav .active-current>a:hover {
    color: #c39d6d;
}
</style>
<!-- post sidebar area -->
<div class="col-md-3">
    <div class="blog-sidebar" data-spy="affix" data-offset-top="627">
        <ul class="post-tab-header">
            <li class="active" data-index="0">文章目录</li>
            <li data-index="1">站点概览</li>
        </ul>
        <div style="clear: both"></div>
        <div class="post-tab-content">
            <div id="post-scroll-spy" data-index="0" class="active post-tab-item animated MinefadeInUp">
                <div class="post-toc">
                    <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#何为this？"><span class="nav-number">1.</span> <span class="nav-text">何为this？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#情况1：全局-amp-调用普通函数"><span class="nav-number">2.</span> <span class="nav-text">情况1：全局 & 调用普通函数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#情况2：构造函数"><span class="nav-number">3.</span> <span class="nav-text">情况2：构造函数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#情况3：函数作为对象的一个方法"><span class="nav-number">4.</span> <span class="nav-text">情况3：函数作为对象的一个方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-如果person函数被赋值到了另一个变量中，并没有作为obj的一个方法被调用，那么this的值就是window"><span class="nav-number">4.0.1.</span> <span class="nav-text">2. 如果person函数被赋值到了另一个变量中，并没有作为obj的一个方法被调用，那么this的值就是window</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-闭包中使用this对象（对象方法函数中又有一个匿名函数）-this用处（诡异）"><span class="nav-number">4.0.2.</span> <span class="nav-text">3.闭包中使用this对象（对象方法函数中又有一个匿名函数）-this用处（诡异）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#情况4：函数用call或者apply或bind调用"><span class="nav-number">5.</span> <span class="nav-text">情况4：函数用call或者apply或bind调用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#call-apply"><span class="nav-number">5.0.1.</span> <span class="nav-text">call(),apply()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#bind"><span class="nav-number">5.0.2.</span> <span class="nav-text">bind()</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#情况5：事件监听函数中的this-大家应该熟悉"><span class="nav-number">6.</span> <span class="nav-text">情况5：事件监听函数中的this(大家应该熟悉)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Ending（欲知后事如何，且听下回分解）"><span class="nav-number">7.</span> <span class="nav-text">Ending（欲知后事如何，且听下回分解）</span></a></li></ol>
                </div>
            </div>
            <div data-index="1" class="post-tab-item animated MinefadeInUp">
                <div class="blog block post-sidebar-widget">
    <img class="site-author-image" src="/images/avatar.gif">
    <p class="site-author-name">Ckryo</p>
    <p class="site-author-description">曾担任 微阿里（北京）科技有限公司 、微阿里（北京）品牌管理有限公司 CEO 、沈阳盾盾科技有限公司 创始人 之一， 曾从事过 VB，Andorid，PHP，Node，H5 项目开发，现主要从事Swift开发，从swift1.2开始使用swift代替其他语言进行完整的项目开发，精通IOS开发，拥有Mac软件开发经验，目前正在利用swift进行服务端开发...</p>
    <!-- <div class="feed-link motion-element">
                        <a href="/atom.xml" rel="alternate">
                            <i class="fa fa-rss"></i> RSS
                        </a>
                    </div> -->
    <nav class="site-state motion-element">
        <div class="site-state-item site-state-posts">
            <a href="/archives">
                <!-- 计算文章 和 项目总数量 -->
                
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">文章</span>
            </a>
        </div>
        <div class="site-state-item site-state-categories">
            <a href="/categories">
	            <span class="site-state-item-count">0</span>
	            <span class="site-state-item-name">项目</span>
            </a>
        </div>
    </nav>
</div>
            </div>
        </div>
    </div>
</div>
<!-- / col-sm-4 col-md-3 -->
<!-- / post sidebar area -->
<script type="text/javascript">
$(function() {
    $('.post-tab-header').on('click', 'li', function() {
        if ($(this).hasClass('active')) return;
        $('.post-tab-header li').removeClass('active');
        $('.post-tab-content .post-tab-item').removeClass('active');
        $(this).addClass('active');
        var index = $(this).data('index');
        $('.post-tab-content').find('.post-tab-item[data-index=' + index + ']').addClass('active');
    });
});
</script>
        </div>
        <!-- / row -->
    </section>
    <!-- / post content + sidebar -->
</div>

        <!-- / content -->
</body>
<!-- footer -->
<footer>
    <div class="container">
        <p class="footer-info">© Made by Ckryo</p>
    </div>
    <!-- / container -->
</footer>
<!-- / footer -->
<!-- portfolio -->
<script src="/js/custom.js"></script>
<script src="/js/jquery.shuffle.min.js"></script>
<!-- lightbox -->
<script src="/js/jquery.magnific-popup.min.js"></script>
<!-- / lightbox -->
<!-- / portfolio -->
<!-- preloader -->
<script src="/js/preloader.js"></script>
<!-- / preloader -->
<!-- / javascript -->
<script src="/js/jquery.lettering.js"></script>
<script src="/js/jquery.textillate.js"></script>
<script>
$(function() {
    $('#banner-title').textillate({
        in: {
            // set the effect name
            effect: 'fadeInDown',
            callback: function() {
                $('#banner-description').css('display', 'block');
                $('#banner-description').textillate();
            }
        },
        // set the type of token to animate (available types: 'char' and 'word')
        type: 'char'
    });
});
</script>
</html>